<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Rock,Paper-Scissors Game</title>
  </head>

  <body>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>

    <div class="results"></div>
    <br />
    <div class="finalResult"></div>
    <br />
    <div>Player Score</div>
    <div class="playerScore"></div>

    <div>Computer Score</div>
    <div class="computerScore"></div>

    <script>
      const elements = ["rock", "paper", "scissors"];
      function getComputerChoice() {
        return elements[Math.floor(Math.random() * 3)];
      }
      const displayPlayerScore = document.querySelector(".playerScore");

      const displayComputerScore = document.querySelector(".computerScore");

      let playerScore = 0;
      let computerScore = 0;

      let playerSelection = "";
      let computerSelection = "";

      function playRound(playerSelection, computerSelection) {
        computerSelection = getComputerChoice();

        switch (true) {
          case playerSelection === "rock" && computerSelection === "rock":
            return ["Draw! Nobody wins", playerScore];
            break;
          case playerSelection === "paper" && computerSelection === "paper":
            return ["Draw! Nobody wins", playerScore];
            break;
          case playerSelection === "scissors" &&
            computerSelection === "scissors":
            return ["Draw! Nobody wins", playerScore];
            break;
          case playerSelection === "rock" && computerSelection === "paper":
            return ["You Lose! Paper beats Rock", computerScore++];
            break;
          case playerSelection === "rock" && computerSelection === "scissors":
            return ["You Win! Rock beats Scissors!", playerScore++];
            break;
          case playerSelection === "paper" && computerSelection === "rock":
            return ["You Win! Paper beats Rock", playerScore++];
            break;
          case playerSelection === "paper" && computerSelection === "scissors":
            return ["You Lose! Scissors beats Paper", computerScore++];
            break;
          case playerSelection === "scissors" && computerSelection === "rock":
            return ["You Lose! Rock beats Scissors", computerScore++];
            break;
          case playerSelection === "scissors" && computerSelection === "paper":
            return ["You Win! Scissors beat Paper", playerScore++];
            break;
        }
      }

      const resultDiv = document.querySelector(".results");

      const finalResult = document.querySelector(".finalResult");

      const rockbtn = document.querySelector(".rock");
      const paperbtn = document.querySelector(".paper");
      const scissorsbtn = document.querySelector(".scissors");

      function game() {
        rockbtn.addEventListener("click", () => {
          let resultText = playRound("rock");
          resultDiv.textContent = resultText[0];
          displayPlayerScore.textContent = playerScore;
          displayComputerScore.textContent = computerScore;
          if (playerScore == 5) {
            finalResult.textContent = "Player wins the game!";
          } else if (computerScore == 5) {
            finalResult.textContent = "Computer wins the game!";
          }
        });

        paperbtn.addEventListener("click", () => {
          let resultText = playRound("paper");
          resultDiv.textContent = resultText[0];
          displayPlayerScore.textContent = playerScore;
          displayComputerScore.textContent = computerScore;
          if (playerScore == 5) {
            finalResult.textContent = "Player wins the game!";
          } else if (computerScore == 5) {
            finalResult.textContent = "Computer wins the game!";
          }
        });

        scissorsbtn.addEventListener("click", () => {
          let resultText = playRound("scissors");
          resultDiv.textContent = resultText[0];
          displayPlayerScore.textContent = playerScore;
          displayComputerScore.textContent = computerScore;
          if (playerScore == 5) {
            finalResult.textContent = "Player wins the game!";
          } else if (computerScore == 5) {
            finalResult.textContent = "Computer wins the game!";
          }
        });
      }

      game();
    </script>
  </body>
</html>
